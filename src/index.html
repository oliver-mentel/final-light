<!DOCTYPE html>
<html lang="en">
<head>
    <title>Final Light - Last Tee Time Calculator for Golf Courses</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta name="description"
          content="Calculate the last tee time for your golf course. Adjust for twilight, flight size, and more with Final Light's easy-to-use calculator.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.final-light.com/">
    <meta property="og:title" content="Final Light - Last Tee Time Calculator">
    <meta property="og:description" content="Calculate the last tee time for your golf course with our easy-to-use tool.">
    <meta property="og:image" content="https://www.final-light.com/final-light.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.final-light.com/">
    <meta name="twitter:title" content="Final Light - Last Tee Time Calculator">
    <meta name="twitter:description" content="Calculate the last tee time for your golf course with our easy-to-use tool.">
    <meta name="twitter:image" content="https://www.final-light.com/final-light.png">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="../site.webmanifest">

    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Inter:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.min.css">

    <link rel="canonical" href="https://www.final-light.com/">
</head>
<body>
<div class="twilight-gradient"></div>
<main class="container" id="mainContainer">
    <header class="header">
        <img id="logoImage" src="./assets/final-light.png" alt="Final Light Logo" class="logo" loading="lazy">
        <h3>Last Tee Time Calculator</h3>
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox"/>
                <div class="slider round">
                    <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </div>
            </label>
        </div>
    </header>

    <form id="calculatorForm">
        <section class="form-group">
            <label for="locationSearch" class="label">Golf Course Location:</label>
            <div class="location-input-container">
                <input type="text" id="locationSearch" placeholder="Enter city near golf course" autocomplete="off">
                <button type="button" id="clearLocationBtn" class="clear-btn" aria-label="Clear location">✕</button>
                <ul id="suggestions" class="suggestions"></ul>
            </div>
        </section>

        <section id="additionalFields" class="hidden">
            <!-- BASIC SETTINGS -->
            <div class="form-section">
                <h3 class="section-subtitle">Basic Settings</h3>

                <div class="form-group">
                    <label for="datePicker" class="label">Date:</label>
                    <input type="date" id="datePicker">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="holeCount" class="label">Number of Holes:</label>
                        <select id="holeCount">
                            <option value="18">18 Holes</option>
                            <option value="9">9 Holes</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="flightSize" class="label">Flight Size:</label>
                        <select id="flightSize">
                            <option value="1">1 Person</option>
                            <option value="2">2 People</option>
                            <option value="3">3 People</option>
                            <option value="4">4 People</option>
                        </select>
                    </div>
                </div>

                <div id="handicapContainer" class="form-group">
                </div>

                <div class="checkbox-group">
                    <label for="isWalking" class="label">Walking:</label>
                    <input type="checkbox" id="isWalking" checked>
                </div>
            </div>

            <!-- COURSE CONDITIONS -->
            <div class="form-section">
                <h3 class="section-subtitle">Course Conditions</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label for="courseLength" class="label">Course Length:</label>
                        <select id="courseLength">
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="courseTerrain" class="label">Course Terrain:</label>
                        <select id="courseTerrain">
                            <option value="0">Flat/Rolling (Normal)</option>
                            <option value="1">Moderately Hilly (+1 min/hole)</option>
                            <option value="2">Very Hilly (+2 min/hole)</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="slowFlightDelay" class="label">Pace Factor:</label>
                    <select id="slowFlightDelay">
                        <option value="0">Free Course</option>
                        <option value="1">Slightly Slower (+1 min/hole)</option>
                        <option value="2">Beginner Group Ahead (+2 min/hole)</option>
                        <option value="3">Busy Course (+3 min/hole)</option>
                        <option value="5">Very Slow Group (+5 min/hole)</option>
                        <option value="-1">Speed Golf (-1 min/hole)</option>
                    </select>
                </div>
            </div>

            <!-- ADVANCED OPTIONS -->
            <div class="form-section">
                <button type="button" id="advancedToggle" class="advanced-toggle">
                    <span>Advanced Options</span>
                    <span class="toggle-icon">▼</span>
                </button>

                <div id="advancedOptions" class="advanced-options hidden">
                    <div class="checkbox-group">
                        <label for="includeTwilight" class="label">Include Twilight Time:</label>
                        <input type="checkbox" id="includeTwilight">
                        <small class="help-text">Extends play beyond sunset until civil twilight ends</small>
                    </div>

                    <div class="checkbox-group">
                        <label for="timeFormat" class="label">Time Format:</label>
                        <input type="checkbox" id="timeFormat" name="timeFormat" checked>
                        <span id="formatLabel">24H</span>
                    </div>
                </div>
            </div>
        </section>
    </form>

    <hr>

    <section id="resultSection" aria-live="polite">
        <div id="resultContent" class="hidden">
            <div class="last-tee-time">
                <div class="last-tee-time-label">Last Tee Time</div>
                <div id="lastTeeTime" class="last-tee-time-value">--:--</div>
                <hr class="divider">
                <div class="last-tee-time-details">
                    <div class="play-details">
                        <div class="form-group">
                            <span class="label">Time per hole:</span>
                            <span id="timePerHole" class="value"></span>
                        </div>
                        <div class="form-group">
                            <span class="label">Total round time:</span>
                            <span id="totalRoundTime" class="value"></span>
                        </div>
                    </div>
                    <div class="datetime-details">
                        <div class="form-group">
                            <span class="label">Sunset:</span>
                            <span id="sunset" class="value"></span>
                        </div>
                        <div class="form-group">
                            <span class="label">Civil twilight end:</span>
                            <span id="twilightEnd" class="value"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="resultSkeleton" class="skeleton-loader" aria-hidden="true">
            <div class="skeleton-last-tee-time">
                <div class="skeleton-label"></div>
                <div class="skeleton-value"></div>
                <div class="skeleton-divider"></div>
                <div class="skeleton-details">
                    <div class="skeleton-play-details">
                        <div class="skeleton-row"></div>
                        <div class="skeleton-row"></div>
                    </div>

                    <div class="skeleton-datetime-details">
                        <div class="skeleton-row"></div>
                        <div class="skeleton-row"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="futureSection" class="content-section" aria-live="polite">
        <div id="futureContent" class="hidden">
            <h2 class="section-title">Date & Time Info</h2>
            <div class="row"><span class="label">Selected date:</span> <span id="futureDate" class="value"></span></div>
            <div class="row"><span class="label">Sunset:</span> <span id="futureSunset" class="value"></span></div>
            <div class="row"><span class="label">Civil twilight end:</span> <span id="futureTwilightEnd" class="value"></span></div>

            <h2 class="section-title">Play Details</h2>
            <div class="row"><span class="label">Time per hole:</span> <span id="futureTimePerHole" class="value"></span></div>
            <div class="row"><span class="label">Total round time:</span> <span id="futureTotalRoundTime" class="value"></span></div>

            <div class="last-tee-time">
                <div class="last-tee-time-label">Last Tee Time</div>
                <div id="futureLastTeeTime" class="last-tee-time-value">--:--</div>
            </div>
        </div>
        <div id="slowFlightNote" class="hidden"></div>
        <div id="weekendNote" class="hidden"></div>
        <div id="walkingNote" class="hidden"></div>
        <div id="futureSkeleton" class="skeleton-loader hidden" aria-hidden="true">
            <div class="skeleton-row"></div>
            <div class="skeleton-row"></div>
            <div class="skeleton-row"></div>
            <div class="skeleton-row"></div>
            <div class="skeleton-row"></div>
            <div class="skeleton-last-tee-time">
                <div class="skeleton-label"></div>
                <div class="skeleton-value"></div>
            </div>
        </div>
    </section>

</main>

<footer class="buy-me-coffee">
    <a href="https://buymeacoffee.com/oliver.mentel" target="_blank" rel="noopener noreferrer">
        <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" class="bmc-button">
    </a>
</footer>

<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Final Light - Last Tee Time Calculator",
        "description": "Calculate the last tee time for your golf course with adjustments for twilight, flight size, and more.",
        "url": "https://www.final-light.com/",
        "applicationCategory": "SportsApplication",
        "operatingSystem": "Web",
        "image": "https://www.final-light.com/final-light.png",
        "author": {
            "@type": "Person",
            "name": "Oliver Mentel"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "25"
        }
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/luxon@2.3.1/build/global/luxon.min.js"></script>
<script src="./script.min.js" defer></script>
</body>
</html>
